---
title: "Overview"
---


### Source of Truth
This [Spreadsheet](https://docs.google.com/spreadsheets/d/1cJ1bUQ1CMwS1_DM_9DfE7So_FMV19EF-B8SXiyzbUGg/edit?usp=sharing) maintained by product. It has all the requirements like depends_on, matches_on, hide_unless.

The products.yml in sso/server should reflect this spreadsheet.

That record is created using the products.yml as the source. You'll notice `features`, `is_free`, `match state_of`, `depends_on`, etc in the products.yml. Products.yml is updated to match the spreadsheet mentioned above

The LC Claim ProductOffering record as an example that was created from products.yml looks like :
```
#<ProductOffering _id: 661939b15d1fba0903a21d4c, created_at: 2024-04-12 13:40:01.212 UTC, updated_at: 2024-05-21 20:30:01.245 UTC, component: "base", description: nil, depends_on: [], features: ["Lead Transactions", "Conversion Feedback", "Firehose"], hidden: false, is_free: false, match_state_of: nil, name: "LeadConduit", order: 2, product_id: "lcx">
```
.
The list of ALL ProductOfferings component ids as of 6/5/2024 are:
```
["TF,certify", "TF,claim", "TF,consent", "TF,consent_plus_data", "TF,insights", "TF,insights_v3", "TF,ping", "TF,retain", "TF,storage", "TF,verify", "SL,paid", "LC,addons", "LC,base", "LC,buyer", "LC,pro", "LC,seller"]
```

Those were generated with `ProductOffering.all.map {|p|"#{ p.product.initials},#{
p.component}" }

### Seeding Product Offerings
Currently, the product offerings must be manually seeded. If you are on a product offering page and it is blank, it is likely you may need to seed them. Specfici intructions on how to seed these product offerings can be found at the top of the `products.yml` page found [here](https://github.com/activeprospect/sso/blob/master/server/config/products.yml)

### Referencing Product Offerings In Code

Specific product offerings are sometimes referred to in the Rails code as `ProductOffering::LC_FREE`. That is shorthand code for finding a product offering.

For example, as mentioned in [[Unsubscribe a Feature Subscription]], to unsubscribe a feature, you would do
```
account.unsubscribe(ProductOffering::LC_CLAIM).
```

The LC_CLAIM part is generated from the [const_missing code here](https://github.com/activeprospect/sso/blob/master/server/app/models/product_offering.rb) Basically, the first part before the _ is used to find the product (ie: LC, leadconduit). The second half is used to identify the component id of the product offering.

The `const_missing` method mentioned above makes is easy to find a product offering with shorthand. For example, tf certify can be found with `ProductOffering::TF_Certify.`

### Understanding "depends on" vs "match state of"

When working with product offerings, the relationships `depends_on` and `match_state_of` are frequently seen. To make sense of these, please consider the following example:

`LeadConduit Add-Ons` is a free addition to `LC Base`. It is always added on when `LC Base` is enabled, therefor it *matches the state of* LC Base.

`LeadConduit Pro` is an upgrade to `LC Base`. It is not required. But, `LC Base` must be enabled at the same time, so `LeadConduit Pro` *depends on* the state of `LC Base.`
