{
  "info": {
    "title": "Network API",
    "description": "This set of endpoints currently facilitates the connection of two accounts, also known internally as \"invite to connect\". The guide on Invite to Connect provides more of a conceptual overview and step by step walkthrough of inviting and connecting of two accounts.\n\nIt is called the \"Network API\" because additional functionality will be added besides connecting two companies.\n\nOne technical distinction to be mindful of is the use of the term \"company\" here. Company is different than an account and has its own id, separate from the sso account id.\n\nMost of the parameters for this API requires knowing the company id.\n\n### Authentication\nHTTP Basic Authentication is used.\n\nThe `username` is ignored, but you must still provide one. You may use 'X' in place of a user name.\n\nThe password is the API key of the targeted account.\n\nHere is an example, where `X` is the username and `123456789` is the api key of the account:\n\n```curl\n $ curl -X GET -uX:1234567890 -H 'Accept: application/json' https://account.staging.activeprospect.com/api/network/invitations\n```\n\n### Use by Product Apps (TF/LC/SL/LB)\nThe [Internal API](api/accounts/internal/endpoints) also includes endpoints for Network related operations. These are for machine to machine operations such as creating a connection between two companies and searching for companies. The account api key is used for the initiating account.\n\n",
    "termsOfService": "https://activeprospect.com/terms-of-service/",
    "license": {
      "name": "None"
    },
    "version": "0.0.1"
  },
  "swagger": "2.0",
  "produces": [
    "application/xml",
    "application/json",
    "application/octet-stream",
    "text/plain"
  ],
  "security": [
    {
      "basicAuth": []
    }
  ],
  "host": "localhost:3000",
  "tags": [
    {
      "name": "Company",
      "description": "This resource is for working with your company.\n"
    },
    {
      "name": "Companies",
      "description": "This resource serves as a directory of companies that have chosen to appear on the network. A company\nprofile describes a business who participates in the consent-based marketing industry.\n\nTo connect with a company, create a new connection invitation. Once recipient accepts your invitation,\na new connection will appear in the connections resource.\n"
    },
    {
      "name": "Connections",
      "description": "A connection is made when one company on the network invites another to connect and\nthe receiving company accepts the invitation.\n\nThe owner of an offer can share it with other accounts on the network to which the owner is connected.\nThat gives the other account permission to participate in the offer. If it's a buyer-owned offer, the\nbuyer shares an offer with their sellers. And those sellers share it with theirs, and so on. If it's a\nseller-owned offer, the seller shares it with their buyers. When the owner of an offer shares it with\nanother company on the network, an “Offer Share” is created.\n"
    },
    {
      "name": "Invitations",
      "description": "Invitations are the primary means two companies becoming connected. A company in the network invites\nanother company to connect. Invitations are emailed to the recipient of the invitation. The recipient\ncan accept or simply take no action.\n\nIf the recipient of the invitation does not belong to an existing company within the network, the\nrecipient will be prompted to create a new account.\n\nIf the recipient is already a member of the network and has memberships with multiple companies, the\nrecipient will be prompted to select the company with which they would like to connect.\n"
    }
  ],
  "paths": {
    "/api/network/companies": {
      "get": {
        "summary": "List all companies",
        "description": "List all companies. Not currently implemented.",
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Network_CompanyProfileEntity"
              }
            }
          }
        },
        "tags": [
          "Companies"
        ],
        "operationId": "getApiNetworkCompanies"
      }
    },
    "/api/network/companies/{id}": {
      "get": {
        "summary": "Get a company",
        "description": "Get a company. Not currently implemented",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "ID of the company to get",
            "type": "string",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/Network_CompanyProfileEntity"
            }
          }
        },
        "tags": [
          "Companies"
        ],
        "operationId": "getApiNetworkCompaniesId"
      }
    },
    "/api/network/company": {
      "put": {
        "summary": "Update company",
        "description": "Update company",
        "produces": [
          "application/json"
        ],
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "formData",
            "name": "allow_invites_from",
            "type": "array",
            "items": {
              "type": "string",
              "enum": [
                "buyers",
                "sellers",
                "publishers"
              ]
            },
            "required": false
          },
          {
            "in": "formData",
            "name": "description",
            "type": "string",
            "required": false
          },
          {
            "in": "formData",
            "name": "legal_name",
            "type": "string",
            "required": false
          },
          {
            "in": "formData",
            "name": "logo_url",
            "type": "string",
            "required": false
          },
          {
            "in": "formData",
            "name": "name",
            "type": "string",
            "required": false
          },
          {
            "in": "formData",
            "name": "primary_business",
            "type": "array",
            "items": {
              "type": "string",
              "enum": [
                "Ad Agency",
                "Consumer Packaged Goods",
                "Education",
                "Financial Services",
                "Home Services",
                "Insurance",
                "Media",
                "Recruiting",
                "Other"
              ]
            },
            "required": false
          },
          {
            "in": "formData",
            "name": "role",
            "type": "array",
            "items": {
              "type": "string",
              "enum": [
                "buys",
                "generates",
                "sells",
                "other"
              ]
            },
            "required": false
          },
          {
            "in": "formData",
            "name": "visible_to",
            "type": "array",
            "items": {
              "type": "string",
              "enum": [
                "buyers",
                "sellers",
                "publishers"
              ]
            },
            "required": false
          },
          {
            "in": "formData",
            "name": "website_url",
            "type": "string",
            "required": false
          },
          {
            "in": "formData",
            "name": "mailing_address[address_1]",
            "type": "string",
            "required": false
          },
          {
            "in": "formData",
            "name": "mailing_address[address_2]",
            "type": "string",
            "required": false
          },
          {
            "in": "formData",
            "name": "mailing_address[city]",
            "type": "string",
            "required": false
          },
          {
            "in": "formData",
            "name": "mailing_address[postal_code]",
            "type": "string",
            "required": false
          },
          {
            "in": "formData",
            "name": "mailing_address[state]",
            "type": "string",
            "required": false
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/Network_CompanyEntity"
            }
          },
          "400": {
            "description": "Bad Request",
            "schema": {
              "$ref": "#/definitions/ErrorEntity"
            }
          }
        },
        "tags": [
          "Company"
        ],
        "operationId": "putApiNetworkCompany"
      },
      "get": {
        "summary": "Get company",
        "description": "Get details on a company",
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/Network_CompanyEntity"
            }
          }
        },
        "tags": [
          "Company"
        ],
        "operationId": "getApiNetworkCompany"
      }
    },
    "/api/network/connections": {
      "get": {
        "summary": "List connections of a company",
        "description": "List connections",
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Network_ConnectionEntity"
              }
            }
          }
        },
        "tags": [
          "Connections"
        ],
        "operationId": "getApiNetworkConnections"
      }
    },
    "/api/network/connections/{id}": {
      "get": {
        "summary": "Get a connection",
        "description": "Get details on a connection",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "ID of the connection to get",
            "type": "string",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/Network_ConnectionEntity"
            }
          }
        },
        "tags": [
          "Connections"
        ],
        "operationId": "getApiNetworkConnectionsId"
      }
    },
    "/api/network/invitations": {
      "post": {
        "summary": "Send an invitation to connect",
        "description": "Send an invitation to connect to an email address",
        "produces": [
          "application/json"
        ],
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "formData",
            "name": "email",
            "description": "Email address of the invitee",
            "type": "string",
            "required": true
          },
          {
            "in": "formData",
            "name": "inviter_id",
            "description": "SSO ID of the user sending the invitation",
            "type": "string",
            "required": true
          },
          {
            "in": "formData",
            "name": "registration_path",
            "description": "Registration is used to create the proper account if the invitee does not currently have one.",
            "type": "string",
            "enum": [
              "leadconduit/seller"
            ],
            "required": true
          },
          {
            "in": "formData",
            "name": "description",
            "description": "A note provided by the inviter that will be included in the body of the email",
            "type": "string",
            "required": false
          }
        ],
        "responses": {
          "201": {
            "description": "Send an invitation to connect to an email address",
            "schema": {
              "$ref": "#/definitions/Network_ConnectionInvitationEntity"
            }
          }
        },
        "tags": [
          "Invitations"
        ],
        "operationId": "postApiNetworkInvitations"
      },
      "get": {
        "summary": "List received invitations",
        "description": "List received invitations",
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "List received invitations",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Network_ConnectionInvitationEntity"
              }
            }
          }
        },
        "tags": [
          "Invitations"
        ],
        "operationId": "getApiNetworkInvitations"
      }
    },
    "/api/network/invitations/code/{code}": {
      "get": {
        "summary": "Get an invitation using invite code",
        "description": "Get an invitation using the invitation code",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "code",
            "description": "Code of the invitation",
            "type": "string",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Get an invitation using the invitation code",
            "schema": {
              "$ref": "#/definitions/Network_ConnectionInvitationEntity"
            }
          }
        },
        "tags": [
          "Invitations"
        ],
        "operationId": "getApiNetworkInvitationsCodeCode"
      }
    },
    "/api/network/invitations/{id}": {
      "delete": {
        "summary": "Decline an invitation",
        "description": "Decline an invitation",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "type": "integer",
            "format": "int32",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Decline an invitation",
            "schema": {
              "$ref": "#/definitions/Network_ConnectionInvitationEntity"
            }
          }
        },
        "tags": [
          "Invitations"
        ],
        "operationId": "deleteApiNetworkInvitationsId"
      },
      "post": {
        "summary": "Accept an invitation",
        "description": "Accept an invitation to connect companies",
        "produces": [
          "application/json"
        ],
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "ID of the invitation",
            "type": "string",
            "required": true
          },
          {
            "in": "formData",
            "name": "accepted_by_id",
            "type": "string",
            "required": true
          }
        ],
        "responses": {
          "201": {
            "description": "Accept an invitation to connect companies",
            "schema": {
              "$ref": "#/definitions/Network_ConnectionEntity"
            }
          }
        },
        "tags": [
          "Invitations"
        ],
        "operationId": "postApiNetworkInvitationsId"
      }
    }
  },
  "definitions": {
    "Network_CompanyProfileEntity": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "example": "615d14ddf52edffc9a52eec4",
          "description": "ID of this company's profile on the network"
        },
        "__type": {
          "type": "string",
          "enum": [
            "Network::CompanyProfile"
          ]
        },
        "created_at": {
          "type": "string",
          "format": "date-time"
        },
        "updated_at": {
          "type": "string",
          "format": "date-time"
        },
        "description": {
          "type": "string",
          "example": "We've been helping to protect homes longer than any other company in the business. Reliable service, innovative features & peace of mind from America's top security provider.",
          "description": "The description of the company"
        },
        "facebook_url": {
          "type": "string",
          "example": "https://www.facebook.com/adt",
          "description": "The URL to the company's Facebook page"
        },
        "instagram_url": {
          "type": "string",
          "example": "https://www.instagram.com/adt",
          "description": "The URL to the company's Instagram page"
        },
        "lead_verticals": {
          "type": "array",
          "items": {
            "type": "string",
            "example": "Home Services",
            "enum": [
              "Auto",
              "Consumer Packaged Goods",
              "Education",
              "Financial Services",
              "Home Services",
              "Insurance",
              "Recruiting",
              "Other"
            ]
          },
          "description": "The verticals that this company generates leads for"
        },
        "legal_name": {
          "type": "string",
          "example": "American District Telegraph",
          "description": "The legal name of the company"
        },
        "linkedin_url": {
          "type": "string",
          "example": "https://www.linkedin.com/company/adt",
          "description": "The URL to the company's LinkedIn page"
        },
        "logo_url": {
          "type": "string",
          "example": "https://www.adt.com/content/dam/adt7/images/adt-new-logo.svg",
          "description": "The URL to your company logo. Must be png or SVG with dimentions of 180px wide by 40px high."
        },
        "name": {
          "type": "string",
          "example": "ADT",
          "description": "The friendly name of the company. If not specified, the legal name will populate this property."
        },
        "primary_business": {
          "type": "array",
          "items": {
            "type": "string",
            "example": "Home Services",
            "enum": [
              "Ad Agency",
              "Consumer Packaged Goods",
              "Education",
              "Financial Services",
              "Home Services",
              "Insurance",
              "Media",
              "Recruiting",
              "Other"
            ]
          },
          "description": "A list of the industry categories in which this company operates"
        },
        "roles": {
          "type": "array",
          "items": {
            "type": "string",
            "example": "buys",
            "enum": [
              "buys",
              "generates",
              "sells",
              "other"
            ]
          },
          "description": "The roles of this company"
        },
        "twitter_url": {
          "type": "string",
          "example": "https://twitter.com/adt",
          "description": "The URL to the company's Twitter page"
        },
        "website_url": {
          "type": "string",
          "example": "https://adt.com",
          "description": "The URL of the company's corporate website."
        },
        "mailing_address": {
          "$ref": "#/definitions/Network_MailingAddressEntity"
        }
      },
      "required": [
        "id",
        "__type",
        "created_at",
        "updated_at",
        "lead_verticals",
        "name",
        "primary_business",
        "roles"
      ],
      "description": "Network_CompanyProfileEntity model"
    },
    "Network_MailingAddressEntity": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "description": "BSON::ObjectId"
        },
        "__type": {
          "type": "string",
          "enum": [
            "Network::MailingAddress"
          ]
        },
        "created_at": {
          "type": "string",
          "format": "date-time"
        },
        "updated_at": {
          "type": "string",
          "format": "date-time"
        },
        "address_1": {
          "type": "string",
          "example": "1 Town Center Rd",
          "description": "The street number and street name"
        },
        "address_2": {
          "type": "string",
          "description": "Unit or suite number"
        },
        "city": {
          "type": "string",
          "example": "Boca Raton",
          "description": "The name of the city"
        },
        "postal_code": {
          "type": "string",
          "example": "33486",
          "description": "The postal code"
        },
        "state": {
          "type": "string",
          "example": "Florida",
          "description": "The locality of the city"
        }
      },
      "required": [
        "id",
        "__type",
        "created_at",
        "updated_at",
        "address_1",
        "city",
        "postal_code",
        "state"
      ]
    },
    "Network_CompanyEntity": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "example": "615d14ddf52edffc9a52eec4",
          "description": "ID of this company's profile on the network"
        },
        "__type": {
          "type": "string",
          "enum": [
            "Network::Company"
          ]
        },
        "created_at": {
          "type": "string",
          "format": "date-time"
        },
        "updated_at": {
          "type": "string",
          "format": "date-time"
        },
        "description": {
          "type": "string",
          "example": "We've been helping to protect homes longer than any other company in the business. Reliable service, innovative features & peace of mind from America's top security provider.",
          "description": "The description of the company"
        },
        "facebook_url": {
          "type": "string",
          "example": "https://www.facebook.com/adt",
          "description": "The URL to the company's Facebook page"
        },
        "instagram_url": {
          "type": "string",
          "example": "https://www.instagram.com/adt",
          "description": "The URL to the company's Instagram page"
        },
        "lead_verticals": {
          "type": "array",
          "items": {
            "type": "string",
            "example": "Home Services",
            "enum": [
              "Auto",
              "Consumer Packaged Goods",
              "Education",
              "Financial Services",
              "Home Services",
              "Insurance",
              "Recruiting",
              "Other"
            ]
          },
          "description": "The verticals that this company generates leads for"
        },
        "legal_name": {
          "type": "string",
          "example": "American District Telegraph",
          "description": "The legal name of the company"
        },
        "linkedin_url": {
          "type": "string",
          "example": "https://www.linkedin.com/company/adt",
          "description": "The URL to the company's LinkedIn page"
        },
        "logo_url": {
          "type": "string",
          "example": "https://www.adt.com/content/dam/adt7/images/adt-new-logo.svg",
          "description": "The URL to your company logo. Must be png or SVG with dimentions of 180px wide by 40px high."
        },
        "name": {
          "type": "string",
          "example": "ADT",
          "description": "The friendly name of the company. If not specified, the legal name will populate this property."
        },
        "primary_business": {
          "type": "array",
          "items": {
            "type": "string",
            "example": "Home Services",
            "enum": [
              "Ad Agency",
              "Consumer Packaged Goods",
              "Education",
              "Financial Services",
              "Home Services",
              "Insurance",
              "Media",
              "Recruiting",
              "Other"
            ]
          },
          "description": "A list of the industry categories in which this company operates"
        },
        "roles": {
          "type": "array",
          "items": {
            "type": "string",
            "example": "buys",
            "enum": [
              "buys",
              "generates",
              "sells",
              "other"
            ]
          },
          "description": "The roles of this company"
        },
        "twitter_url": {
          "type": "string",
          "example": "https://twitter.com/adt",
          "description": "The URL to the company's Twitter page"
        },
        "website_url": {
          "type": "string",
          "example": "https://adt.com",
          "description": "The URL of the company's corporate website."
        },
        "mailing_address": {
          "$ref": "#/definitions/Network_MailingAddressEntity"
        },
        "account_id": {
          "type": "string",
          "example": "615d407995fefd72e4a7592b",
          "description": "This company's account ID"
        },
        "allow_invites_from": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": [
              "buyers",
              "sellers",
              "publishers"
            ]
          },
          "description": "Connection invitations will be allowed from these types of companies on the network."
        },
        "visible_to": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": [
              "buyers",
              "sellers",
              "publishers"
            ]
          },
          "description": "Your company profile will be visible to these types of companies on the network."
        }
      },
      "required": [
        "id",
        "__type",
        "created_at",
        "updated_at",
        "lead_verticals",
        "name",
        "primary_business",
        "roles",
        "account_id",
        "allow_invites_from",
        "visible_to"
      ],
      "description": "Network_CompanyEntity model"
    },
    "ErrorEntity": {
      "type": "object",
      "properties": {
        "error": {
          "type": "object"
        }
      },
      "required": [
        "error"
      ],
      "description": "ErrorEntity model"
    },
    "Network_ConnectionEntity": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "example": "615d14ddf52edffc9a52eec4",
          "description": "ID of this connection"
        },
        "__type": {
          "type": "string",
          "enum": [
            "Network::Connection"
          ]
        },
        "created_at": {
          "type": "string",
          "format": "date-time"
        },
        "updated_at": {
          "type": "string",
          "format": "date-time"
        },
        "company": {
          "$ref": "#/definitions/Network_ConnectionCompanyEntity",
          "readOnly": true,
          "description": "The company with which you have a connection"
        },
        "created_by": {
          "type": "string",
          "example": "support@activeprospect.com",
          "description": "The user's email who created this connection"
        },
        "relationship_type": {
          "type": "string",
          "example": "buyer",
          "enum": [
            "buyer",
            "seller"
          ],
          "description": "The type of relationship you have with this company"
        }
      },
      "required": [
        "id",
        "__type",
        "created_at",
        "updated_at",
        "company",
        "created_by",
        "relationship_type"
      ],
      "description": "Network_ConnectionEntity model"
    },
    "Network_ConnectionCompanyEntity": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "example": "615a6249885ba7b20a54a144",
          "description": "ID of this company with which you have a connection"
        },
        "__type": {
          "type": "string",
          "enum": [
            "Network::ConnectionCompany"
          ]
        },
        "account_id": {
          "type": "string",
          "example": "615d407995fefd72e4a7592b",
          "description": "This company's account ID"
        },
        "logo_url": {
          "type": "string",
          "example": "https://www.adt.com/content/dam/adt7/images/adt-new-logo.svg",
          "description": "The URL to your company logo. Must be png or SVG with dimentions of 180px wide by 40px high."
        },
        "name": {
          "type": "string",
          "example": "SafeStreets",
          "readOnly": true,
          "description": "The name of the company with which you have a connection"
        },
        "status": {
          "type": "string",
          "example": "verified",
          "enum": [
            "verified"
          ],
          "description": "The verification status of the company."
        }
      },
      "required": [
        "id",
        "__type",
        "account_id",
        "name",
        "status"
      ]
    },
    "Network_ConnectionInvitationEntity": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "description": "The id of the invitation. Needed for accepting an invite progammatically"
        },
        "__type": {
          "type": "string",
          "enum": [
            "Network::ConnectionInvitation"
          ]
        },
        "created_at": {
          "type": "string",
          "format": "date-time"
        },
        "updated_at": {
          "type": "string",
          "format": "date-time"
        },
        "email": {
          "type": "string",
          "description": "The email address of the person being invited to connect"
        },
        "invited_by": {
          "type": "string",
          "description": "The name of the person doing the inviting."
        },
        "inviter_company": {
          "$ref": "#/definitions/Network_CompanyEntity"
        },
        "status": {
          "type": "string",
          "enum": [
            "accepted",
            "declined",
            "pending"
          ],
          "description": "Invitation status. Pending - Waiting to be accepted or declined. Accepted - Invite accepted and connection created. Declined - Invite declined."
        }
      },
      "required": [
        "id",
        "__type",
        "created_at",
        "updated_at",
        "email",
        "invited_by",
        "inviter_company",
        "status"
      ],
      "description": "Network_ConnectionInvitationEntity model"
    }
  }
}